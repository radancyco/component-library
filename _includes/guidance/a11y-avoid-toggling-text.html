{% assign class = "a11y-info" %}
{% assign id = "a11y-avoid-toggling-text" %}
{% assign landmark = "hdr-a11y-avoid-toggling-text" %}
{% assign title = "Accessibility: Avoid Toggling Text" %}

{% include guidance/header.html %}

	<p>Toggling text in a control to indicate a state change should be avoided. For example, click on the following button:</p>

	<button aria-pressed="false" class="btn" onclick="toggleText(this)">Save Job</button>

	<h3>Why is this an issue?</h3>

	<ul>
		<li>Changing text may not announce the state change to assistive technology users.</li>
    	<li>Changing text removes the initial context of the control, which can be confusing when returing to it later. In addition to this, further confusion is added when <code>aria-expanded</code> or <code>aria-pressed</code> is used to aid assistive technology users. Imagine hearing, "Job Saved, pressed" when "Save Job, pressed" or "Save Job, not pressed" would be more clear and consistent.</li>
	</ul>

	<h3>Solution</h3>

	<ul>
		<li>Instead of changing text, use visual affordance to convey that toggling behavior exists. This is a well-known and quickly understood convention. For example, using signifiers like up and down arrows, check marks, plus and minus, make it clear that an action has occured.</li>
		<li>Using a single instruction means there is less text to translate.</li>
	</ul>

	<p>Here is an example of visual affordance:</p>

	<button aria-pressed="false" class="btn" onclick="toggleText(this)">{{ iconCheck }}{{ iconFavorite }} Save Job <span aria-hidden="true" class="visually-hidden">(All)</span></button>

	<script>

	function toggleText(obj) {

		if (obj.getAttribute("aria-pressed") === "false") {

			if(obj.textContent === "Save Job") {

				obj.textContent = "Job Saved";

			}

			obj.setAttribute("aria-pressed", "true");

		} else {

			if(obj.textContent === "Job Saved") {

				obj.textContent = "Save Job";

			}

			obj.setAttribute("aria-pressed", "false");

		}

	}

	</script>

{% include guidance/footer.html %}
